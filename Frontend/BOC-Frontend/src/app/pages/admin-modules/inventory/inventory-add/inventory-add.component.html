<div class="container-fluid">
	<!-- <app-page-title title="Add Inventory" class="edit-title" [breadcrumbItems]="breadCrumbItems"></app-page-title> -->
	<form [formGroup]="AddForm">
		<div class="col-lg-12 col-xl-12 mt-4">
			<div class="row">
				<div class="col-lg-12 col-xl-12 nopad">
					<div class="card-box">
						<div
							class="form-horizontal ng-untouched ng-pristine ng-valid p-0"
							role="form"
						>
							<div class="col-xl-12">
								<div class="row ml-1">
									<div class="form-group row">
										<div class="col-sm-12">
											<h4><i class="fe-shopping-cart mr-1"></i>Product's Part Details</h4>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-xl-6">
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Part #: <span class="red">*</span></label
											>
											<div class="col-sm-9">
												<input
													class="form-control"
													id=""
													type="text"
													placeholder="Enter Part #"
													formControlName="PartNo"
													required
												/>
											</div>
										</div>
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Part Description:</label
											>
											<div class="col-sm-9">
												<textarea
													class="form-control ng-pristine ng-valid ng-touched"
													formControlName="Description"
													name="Part Description"
													placeholder="Notes"
													rows="4"
												></textarea>
											</div>
										</div>
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Manufacturer:<span class="red">*</span></label
											>
											<div class="col-sm-9">
												<ng-select
													[items]="manufacturerList"
													placeholder="Select"
													formControlName="ManufacturerId"
													bindLabel="name"
													bindValue="id"
													[searchable]="true"
												>
												</ng-select>
												<!-- <select class="custom-select" formControlName="ManufacturerId">
                                                    <option>Select</option>
                                                    <option *ngFor="let v of manufacturerList" [value]="v.VendorId"
                                                        ng-reflect-value="1"> {{v.title}} </option>
                                                </select> -->
											</div>
										</div>
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Manufacturer Part No:</label
											>
											<div class="col-sm-9">
												<input
													class="form-control"
													type="text"
													id=""
													placeholder="Manufacturer Part No"
													formControlName="ManufacturerPartNo"
												/>
											</div>
										</div>
									</div>

									<div class="col-xl-6">
										<div class="row">
											<div class="col-12">
												<h5 class="header-title m-t-0 mb-2">Upload Images</h5>
												<!-- file upload 
                                                <file-upload class="dropzone"></file-upload>-->

												<div class="row">
													<div
														class="col-sm-3 img-container"
														*ngFor="let vattachment of ImagesList; let i = index"
													>
														<span *ngIf="!vattachment.IsDeleted">
															<span *ngIf="vattachment.mimetype == 'image/jpeg'">
																<a href="{{ vattachment.path }}" target="_blank">
																	<img
																		src="{{ vattachment.path }}"
																		class="img-fluid"
																		ngbTooltip="{{ vattachment.originalname }}"
																		width="200"
																		alt="work-thumbnail"
																	/>
																</a>
																<button class="btn" (click)="removeImage(i)">
																	<span aria-hidden="true"> × </span>
																</button>
															</span>
															<span *ngIf="vattachment.mimetype == 'image/png'">
																<a href="{{ vattachment.path }}" target="_blank">
																	<img
																		src="{{ vattachment.path }}"
																		class="img-fluid"
																		ngbTooltip="{{ vattachment.originalname }}"
																		width="200"
																		alt="work-thumbnail"
																	/>
																</a>
																<button class="btn" (click)="removeImage(i)">
																	<span aria-hidden="true"> × </span>
																</button>
															</span>
														</span>
														<br />
													</div>
												</div>
												<input
													type="file"
													multiple="multiple"
													class="form-control"
													accept="image/png,image/jpeg"
													[(ngModel)]="Attachment"
													formControlName="Attachment"
													(change)="fileProgressMultiple($event)"
													[writeFile]="true"
												/>
												<i class="fa fa-spinner fa-spin" *ngIf="spinner"></i>
												<span
													class="text-danger"
													*ngIf="
														(AddFormControl.Attachment.touched || submitted) &&
														AddFormControl.Attachment.errors?.extension
													"
												>
													image should be jpeg and png only
												</span>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-12 col-xl-12 nopad">
			<div class="row">
				<div class="col-lg-12 col-xl-12">
					<div class="card-box">
						<div
							class="form-horizontal ng-untouched ng-pristine ng-valid p-0"
							novalidate=""
							role="form"
						>
							<div class="col-xl-12">
								<div class="row ml-1">
									<div class="form-group row">
										<div class="col-sm-12">
											<h4><i class="fe-shopping-cart mr-1"></i>Other Info</h4>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-xl-6">
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Issue Unit Of Measure: <span class="red">*</span></label
											>
											<div class="col-sm-9">
												<select class="custom-select" formControlName="UnitType">
													<option value="">Select</option>
													<option value="1" ng-reflect-value="1">Pcs</option>
												</select>
											</div>
										</div>
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Date Added:<span class="red">*</span></label
											>
											<div class="col-sm-9">
												<div class="input-group clockpicker">
													<input
														class="form-control"
														id="example-date"
														name="date"
														ngbDatepicker
														formControlName="StoreSince"
														autoClose="true"
														(click)="DateAdded.toggle()"
														placeholder="MM/DD/YYYY"
														#DateAdded="ngbDatepicker"
													/>
													<div class="input-group-append" (click)="DateAdded.toggle()">
														<span class="input-group-text"
															><i class="mdi mdi-calendar"></i
														></span>
													</div>
												</div>
											</div>
										</div>
										<div class="form-group row">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Preferred Vendor:<span class="red">*</span></label
											>
											<div class="col-sm-9">
												<ng-select
													[items]="vendorList"
													placeholder="Select"
													formControlName="PrimaryVendorId"
													bindLabel="name"
													bindValue="id"
													[searchable]="true"
												>
												</ng-select>
												<!-- <select class="custom-select" formControlName="PrimaryVendorId">
                                                    <option>Select</option>
                                                    <option *ngFor="let v of vendorList" [value]="v.VendorId"
                                                        ng-reflect-value="1"> {{v.title}} </option>
                                                </select> -->
											</div>
										</div>
									</div>

									<div class="col-xl-6">
										<div class="form-group row mb-2">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Active:</label
											>
											<div class="col-sm-9 mt-1">
												<div class="custom-control custom-switch">
													<input
														class="custom-control-input"
														id="customSwitch1"
														type="checkbox"
														checked
													/>
													<label class="custom-control-label" for="customSwitch1"
														>Toggle this switch element</label
													>
												</div>
											</div>
										</div>
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Tax Type:<span class="red">*</span></label
											>
											<div class="col-sm-9">
												<select
													class="custom-select"
													name="TaxType"
													formControlName="TaxType"
												>
													<option value="" disabled>Select</option>
													<option value="1">Taxable</option>
													<option value="2">Rolling Stack</option>
													<option value="3">Reseller/Non Taxable</option>
												</select>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-12 col-xl-12">
					<div class="card-box">
						<div
							class="form-horizontal ng-untouched ng-pristine ng-valid p-0"
							novalidate=""
							role="form"
						>
							<div class="col-xl-12">
								<div class="row">
									<div class="col-xl-6">
										<div class="form-group row">
											<div class="col-sm-12">
												<h4><i class="mdi mdi-information mr-1"></i>Sales Information</h4>
											</div>
										</div>

										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Selling Price: <span class="red">*</span></label
											>
											<div class="col-sm-9">
												<div class="input-group">
													<div class="input-group-prepend">
														<span class="input-group-text" id="basic-addon1">$</span>
													</div>
													<input
														aria-describedby="basic-addon1"
														aria-label="Selling Price"
														formControlName="SellingPrice"
														class="form-control"
														placeholder="Selling Price"
														type="number"
													/>
												</div>
											</div>
										</div>
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Description:</label
											>
											<div class="col-sm-9">
												<textarea
													class="form-control ng-pristine ng-valid ng-touched"
													formControlName="SellingPriceDescription"
													name="Selling Price Description"
													placeholder="Notes"
													rows="4"
												></textarea>
											</div>
										</div>
									</div>

									<div class="col-xl-6">
										<div class="form-group row">
											<div class="col-sm-12">
												<h4>
													<i class="mdi mdi-information mr-1"></i>Purchase Information
												</h4>
											</div>
										</div>
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Buying Price:<span class="red">*</span></label
											>
											<div class="col-sm-9">
												<div class="input-group">
													<div class="input-group-prepend">
														<span class="input-group-text" id="basic-addon1">$</span>
													</div>
													<input
														aria-describedby="basic-addon1"
														aria-label="Buying Price"
														formControlName="BuyingPrice"
														class="form-control"
														placeholder="Buying Price"
														type="number"
													/>
												</div>
											</div>
										</div>
										<div class="form-group row mb-0">
											<label class="col-sm-3 col-form-label" for="simpleinput"
												>Description:</label
											>
											<div class="col-sm-9">
												<textarea
													class="form-control ng-pristine ng-valid ng-touched"
													name="BuyingPriceDescription"
													formControlName="BuyingPriceDescription"
													placeholder="Buying Price Description"
													rows="4"
												></textarea>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12 col-xl-12">
					<div class="card-box">
						<div
							class="form-horizontal ng-untouched ng-pristine ng-valid p-0"
							novalidate=""
							role="form"
						>
							<div class="col-xl-12">
								<div class="row ml-1">
									<div class="form-group row">
										<div class="col-sm-12">
											<h4><i class="fe-map-pin mr-1"></i>Advanced Inventory Tracking</h4>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-xl-3">
										<div class="form-group row mb-0">
											<label class="col-sm-4 col-form-label text-right" for="simpleinput"
												>Warehouse:<span class="red">*</span></label
											>
											<div class="col-sm-8">
												<select class="custom-select" formControlName="WarehouseId">
													<option value="">Select</option>
													<option
														*ngFor="let w of warehouseList"
														[value]="w.id"
														ng-reflect-value="1"
													>
														{{ w.name }}
													</option>
												</select>
											</div>
										</div>
									</div>

									<div class="col-xl-3">
										<div class="form-group row mb-0">
											<label class="col-sm-4 col-form-label text-right" for="simpleinput"
												>Opening Stock: <span class="red">*</span></label
											>
											<div class="col-sm-8">
												<input
													class="form-control"
													id=""
													type="number"
													placeholder="Opening Stock"
													formControlName="OpeningStock"
												/>
											</div>
										</div>
									</div>

									<div class="col-xl-3">
										<div class="form-group row mb-0">
											<label class="col-sm-4 col-form-label text-right" for="simpleinput"
												>Min Stock: <span class="red">*</span></label
											>
											<div class="col-sm-8">
												<input
													class="form-control"
													id=""
													type="number"
													placeholder="Min Stock"
													formControlName="MinStock"
												/>
											</div>
										</div>
									</div>

									<div class="col-xl-3">
										<div class="form-group row mb-0">
											<label class="col-sm-4 col-form-label text-right" for="simpleinput"
												>Max Stock: <span class="red">*</span></label
											>
											<div class="col-sm-8">
												<input
													class="form-control"
													id=""
													type="number"
													placeholder="Max Stock"
													formControlName="MaxStock"
												/>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row w-100">
				<div class="col-lg-12">
					<div class="row">
						<div class="col-xl-6">
							<h4>Part Items</h4>
						</div>
						<div class="col-xl-6 text-right">
							<button
								type="button"
								class="btn btn-primary waves-effect waves-light ng-star-inserted"
								(click)="addReference()"
							>
								Add Part Items
							</button>
						</div>
					</div>

					<div class="card-box edit-data mt-2 mb-4">
						<div class="row">
							<div class="table-responsive">
								<table
									id="datatable-angular-partslist"
									class="table mb-15 hover nowrap"
								>
									<thead class="thead-light">
										<tr>
											<th>#</th>
											<th>Serial No <span class="red">*</span></th>
											<th>Selling Price <span class="red">*</span></th>
											<th>Type <span class="red">*</span></th>
											<th>Qty</th>
											<th>Building <span class="red">*</span></th>
											<th>Room <span class="red">*</span></th>
											<th>Row <span class="red">*</span></th>
											<th>Shelf <span class="red">*</span></th>
											<th class="text-center" *ngIf="rfidEnabled">RFID</th>
										</tr>
									</thead>
									<tbody>
										<tr
											[formGroup]="item"
											*ngFor="
												let item of AddForm.controls.PartItems['controls'];
												let i = index;
												let last = last
											"
										>
											<td>{{ i + 1 }}</td>
											<td>
												<input
													type="text"
													class="form-control"
													formControlName="SerialNo"
													required
												/>
												<!-- <span class="text-danger"
                                                    *ngIf="(item.controls.PartItems.touched || submitted) && item.controls.PartItems.errors?.required">
                                                    Type is required
                                                </span> -->
											</td>
											<td>
												<div class="input-group">
													<div class="input-group-prepend">
														<span class="input-group-text" id="basic-addon1">$</span>
													</div>
													<input
														type="text"
														class="form-control"
														formControlName="SellingPrice"
														required
													/>
												</div>
											</td>
											<td>
												<select class="custom-select" formControlName="IsNew" required>
													<option>Select</option>
													<option value="1" ng-reflect-value="1">New</option>
													<option value="0" ng-reflect-value="0">Refurbrished</option>
												</select>
											</td>
											<td>1</td>
											<td>
												<select
													class="custom-select"
													formControlName="WarehouseSub1Id"
													required
												>
													<option value="">Select</option>
													<option
														*ngFor="let w of warehouse1List"
														[value]="w.id"
														ng-reflect-value="1"
													>
														{{ w.name }}
													</option>
												</select>
											</td>
											<td>
												<select
													class="custom-select"
													formControlName="WarehouseSub2Id"
													required
												>
													<option value="">Select</option>
													<option
														*ngFor="let w of warehouse2List"
														[value]="w.id"
														ng-reflect-value="1"
													>
														{{ w.name }}
													</option>
												</select>
											</td>
											<td>
												<select
													class="custom-select"
													formControlName="WarehouseSub3Id"
													required
												>
													<option value="">Select</option>
													<option
														*ngFor="let w of warehouse3List"
														[value]="w.id"
														ng-reflect-value="1"
													>
														{{ w.name }}
													</option>
												</select>
											</td>
											<td>
												<select
													class="custom-select"
													formControlName="WarehouseSub4Id"
													required
												>
													<option value="0">Select</option>
													<option
														*ngFor="let w of warehouse4List"
														[value]="w.id"
														ng-reflect-value="1"
													>
														{{ w.name }}
													</option>
												</select>
											</td>
											<td class="text-center" *ngIf="rfidEnabled">
												<input
													type="text"
													class="form-control"
													formControlName="RFIDTagNo"
												/>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row mb-4">
				<div class="col-12 text-center">
					<input
						type="button"
						class="btn btn-bordered-primary waves-effect width-md waves-light mr-1"
						(click)="onFormSubmit(false)"
						value="Submit"
					/>
					<input
						type="button"
						class="btn btn-bordered-primary waves-effect width-md waves-light mr-1"
						(click)="onFormSubmit(true)"
						value="Submit and Print Barcodes"
					/>
					<input
						type="button"
						class="btn btn-bordered-secondary waves-effect width-md waves-light"
						value="Cancel"
					/>
				</div>
			</div>
		</div>
	</form>
</div>
