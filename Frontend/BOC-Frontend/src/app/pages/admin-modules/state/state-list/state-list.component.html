<!-- 
    /* ===================================================
* @copyright Copyright  2020 - 2023 Aibond Corp.
*
* All Rights Reserved.
*
* ========================================================== */
 -->

<div class="container-fluid" *ngIf="IsViewEnabled">
    <app-page-title title="State List"></app-page-title>

    <div class="row">
        <div class="col-12">
            <div class="card-box">
                <div class="col-xl-12 text-right">
                    <div *ngIf="IsAddEnabled" style="margin:15px 0px 0 0;" class="btn-group btn-group-sm mb-2"
                        role="group">
                        <a class="btn text-white waves-effect waves-light" (click)="addStates()"><i
                                class="mdi mdi-plus-circle mr-1"></i> Add State
                        </a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <!-- Table -->
                        <div class="table-responsive">
                            <table id="datatable-angular" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                                class="table datatables dt-responsive hover nowrap">
                                <thead class="thead-light">
                                    <tr>
                                        <th>State Name</th>
                                        <th>State Code</th>
                                        <th>Country Name</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="result?.length != 0">
                                    <tr *ngFor="let item of result; let i=index">
                                        <td>{{item.StateName}}</td>
                                        <td>{{item.StateCode}}</td>
                                        <td>{{item.CountryName}}</td>
                                        <td>
                                            <div [ngClass]="GetClassName(item.Status)">
                                                {{Status}}
                                            </div>
                                        </td>
                                        <td>
                                            <a *ngIf="IsEditEnabled" (click)="editState(item,i)" class="fa fa-edit"
                                                ngbTooltip="Edit" placement="top"></a>&nbsp;
                                            <a *ngIf="IsDeleteEnabled" (click)="deleteState(item.StateId,i)"
                                                class="fa fa-trash text-danger" ngbTooltip="Delete" placement="top"></a>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="result?.length == 0">
                                    <tr>
                                        <td colspan="5" class="no-data-available">{{dataTableMessage}}</td>
                                    </tr>
                                <tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid" *ngIf="!IsViewEnabled">
    <div class="account-pages mt-5 mb-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 col-lg-6 col-xl-5">
                    <div class="card bg-pattern">

                        <div class="card-body p-4">

                            <div class="text-center">
                                <a routerLink="/">
                                    <span><img src="assets/projects/ah-group/full_logo.png" alt="" height="22"></span>
                                </a>
                            </div>

                            <div class="text-center mt-4">
                                <h1 class="text-error">401</h1>
                                <h3 class="mt-3 mb-2">Access Denied!</h3>
                                <p class="text-muted mb-3">You don't have permission to access this page.</p>

                                <a routerLink="/admin/dashboard/ah-dashboard"
                                    class="btn btn-success waves-effect waves-light">Back
                                    to Dashboard</a>
                            </div>

                        </div>
                        <!-- end card-body -->
                    </div>
                    <!-- end card -->

                </div>
                <!-- end col -->
            </div>
            <!-- end row -->
        </div>
        <!-- end container -->
    </div>
</div>

<!-- <ng-template #responsiveData let-modal="close">
    <div class="modal-header">
        <h4 class="modal-title">Add State</h4>
        <button type="button" class="close" (click)="modal('Cross click')" aria-hidden="true">×</button>
    </div>
    <div class="modal-body p-4">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="CountryId" class="control-label">Country Id</label>
                    <input type="text" class="form-control" id="CountryId" placeholder="Country Id">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="StateCode" class="control-label">State Code</label>
                    <input type="text" class="form-control" id="StateCode" placeholder="State Code">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="StateName" class="control-label">State Name</label>
                    <input type="text" class="form-control" id="StateName" placeholder="State Name">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="Status" class="control-label">Status</label>
                    <input type="text" class="form-control" id="Status" placeholder="Status">
                </div>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary waves-effect" (click)="modal('Cross click')">Close</button>
        <button type="button" class="btn btn-success waves-effect waves-light">Save changes</button>
    </div>
</ng-template> -->

<!-- Table Action 
<ng-template #TableAction>
    <div class="btn-group dropdown" ngbDropdown>
        <a href="javascript: void(0);" class="dropdown-toggle arrow-none btn btn-light btn-sm" ngbDropdownToggle data-toggle="dropdown" aria-expanded="false"><i class="mdi mdi-dots-horizontal"></i></a>
        <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
            <a class="dropdown-item" (click)="editVendor()"><i
                    class="mdi mdi-pencil mr-2 text-muted font-18 vertical-middle"></i>Edit</a>
            <a class="dropdown-item" (click)="delete()"><i
                    class="mdi mdi-delete mr-2 text-muted font-18 vertical-middle"></i>Remove</a>
        </div>
    </div>
</ng-template>-->

<!-- Tab Content 
<ng-template #Search>
    <div class="row collapse pt-2 show">
        <div class="col-12 col-sm-3 col-md-3 col-xl-2">
            <label class="control-label">State Name</label>
            <input type="text" class="form-control" [(ngModel)]="StateName" id="StateName" placeholder="State Name">
        </div>
        <div class="col-12 col-sm-3 col-md-3 col-xl-2">
            <label class="control-label">State Code</label>
            <input type="text" class="form-control" [(ngModel)]="StateCode" id="StateCode" placeholder="State Code">
        </div>
        <div class="col-12 col-sm-3 col-md-3 col-xl-2">
            <label class="control-label">Country Name</label>
            <input type="text" class="form-control" [(ngModel)]="CountryName" id="CountryName" placeholder="Country Name">
        </div>

        <div class="col-12 col-sm-3 col-md-3 col-xl-2" style="padding-top:30px;">
            <input type="button" class="btn btn-primary btn-md mr-1" value="Search" id="btnFilter" (click)="onFilter($event)" />
            <input type="button" class="btn btn-secondary btn-md" value="Clear" id="btnClear" (click)="onClear($event)" />
        </div>
    </div>
</ng-template>-->

<!-- Tab Content
<ng-template #Statistics>
    <div class="text-center mb-2">
        <div class="row">
            <div class="col-md-6 col-xl-7 mb-20">
                <div class="row">
                    <label class="control-label mt-1 ml-2">Select Date Range</label>
                    <input class="selectpicker" type="text" ngxDaterangepickerMd [(ngModel)]="dateFilter" [showCustomRangeLabel]="true" [keepCalendarOpeningWithRange]="true" [timePicker]="false" [alwaysShowCalendars]="true" [ranges]="ranges" [linkedCalendars]="true" startKey="startDate"
                        endKey="endDate" [isInvalidDate]="isInvalidDate" (ngModelChange)="onStat()" [showClearButton]="true" readonly>
                    <div class="clear">&nbsp;</div>
                    <div class="col-xl-6 text-left nopad">
                        <button type="button" class="btn btn-primary waves-effect waves-light h35">Submit</button> 
                        <input type="button" class="btn btn-primary btn-md" value="Submit" id="btnStat" (click)="" />
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 col-xl-3">
                <div class="card-box">
                    <i class="fas fa-users-cog font-24"></i>
                    <h3 class="text-primary" *ngIf="statData">{{statData[0].TotalCount}}</h3>
                    <p class="text-uppercase mb-1 font-13 font-weight-medium">Total Vendors</p>
                </div>
            </div>

            <div class="col-md-6 col-xl-3">
                <div class="card-box">
                    <i class="fas fa-user font-24"></i>
                    <h3 class="text-success" *ngIf="statData">{{statData[0].OnlyVendorCount}}</h3>
                    <p class="text-uppercase mb-1 font-13 font-weight-medium">Only Vendors</p>
                </div>
            </div>

            <div class="col-md-6 col-xl-3">
                <div class="card-box">
                    <i class="fas fa-user-cog font-24"></i>
                    <h3 class="text-warning" *ngIf="statData">{{statData[0].InactiveCount}}</h3>
                    <p class="text-uppercase mb-1 font-13 font-weight-medium">Both</p>
                </div>
            </div>

            <div class="col-md-6 col-xl-3">
                <div class="card-box">
                    <i class="fe-delete font-24"></i>
                    <h3 class="text-danger" *ngIf="statData">{{statData[0].DeletedCount}}</h3>
                    <p class="text-uppercase mb-1 font-13 font-weight-medium">Deleted Vendors</p>
                </div>
            </div>
        </div>
    </div>
</ng-template> -->