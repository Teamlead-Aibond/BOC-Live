<!-- 
    /* ===================================================
* @copyright Copyright  2020 - 2023 Aibond Corp.
*
* All Rights Reserved.
*
* ========================================================== */
 -->
<div class="container-fluid" style="width: 98%; max-width: 98%;" *ngIf="IsOrderHistoryView || loginType == 1">
    <app-page-title title="View Order" [breadcrumbItems]="breadCrumbItems"></app-page-title>
    <div class="row d-flex justify-content-center">
        <div class="col-md-12">
            <div class="card p-3">
                <div class="row">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-12">
                                <h4>Customer: {{orderList?.OrderInfo[0]?.CompanyName ?
                                    orderList.OrderInfo[0].CompanyName : ''}}</h4>
                            </div>
                        </div>
                        <div class="row">

                            <div class="col-md-3">
                                <h4> Order #: <span
                                        class="badge badge-danger m-2 p-1">{{orderList?.OrderInfo[0]?.EcommerceOrderNo ?
                                        orderList.OrderInfo[0].EcommerceOrderNo : ''}}
                                    </span>
                                </h4>
                            </div>

                            <div class="col-md-3">
                                <h4>Order Reference #:
                                    <span class="badge badge-success m-2 p-1"> {{orderList?.OrderInfo[0]?.MRONo ?
                                        orderList.OrderInfo[0].MRONo : ''}} </span>

                                </h4>
                            </div>

                            <div class="col-md-3">
                                <h4>MRO Status:
                                    <span  class="badge {{MROStatusObj ? MROStatusObj.cstyle : ''}} m-2 p-1"> {{MROStatusObj ? MROStatusObj.title : '-'}}</span>
                                    <!-- <span [innerHTML]="MROStatusHtml"></span> -->
                                </h4>
                            </div>

                            <div class="col-md-3">
                                <h4> Order Date: <span class="badge badge-primary m-2 p-1">
                                        {{orderList?.OrderInfo[0]?.CreatedDate ?
                                        orderList.OrderInfo[0].CreatedDate : ''}}

                                    </span>
                                </h4>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <table class="table mt-2 rounded table-bordered mb-0">
                                    <thead class="thead-light">
                                        <th colspan="2">
                                            <h4 class="m-0">Billing Address</h4>
                                        </th>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                {{orderList?.OrderInfo[0]?.CompanyName}}<br>
                                                {{getAddress(BillingAddress)}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-6">
                                <table class="table mt-2 table-bordered mb-0">
                                    <thead class="thead-light">
                                        <th colspan="2">
                                            <h4 class="m-0">Shipping Address</h4>
                                        </th>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                {{orderList?.OrderInfo[0]?.CompanyName}}<br>
                                                {{getAddress(ShippingAddress)}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="card mb-4">
                                    <div class="card-header c_header py-2">
                                        <h4 class="m-0">Order - {{OrderItem?.length}} items</h4>
                                    </div>
                                    <div class="card-body p-2">
                                        <div *ngFor="let order of OrderItem; let i=index;">
                                            <div class="row">
                                                <div class="col-md-3 d-flex align-items-center justify-content-center">
                                                    <img src="{{order.image ? order.image : '../../../../../assets/images/noimage.jpeg'}}" alt="{{order.PartNo}}" height="80" />
                                                </div>
                                                <div class="col-md-5 d-flex flex-column justify-content-center">
                                                    <p class="mb-0" *ngIf="order.APNNo != null"><strong>APN:
                                                            {{order.APNNo}}</strong></p>
                                                    <p class="mb-0">Part #: {{order.PartNo}}</p>
                                                </div>
                                                <div class="col-md-4  d-flex flex-column justify-content-center">
                                                    <p class="text-start text-center m-0">
                                                        <strong> x {{order.Quantity}}</strong>
                                                    </p>
                                                </div>
                                                <div class="col-md-3"></div>
                                                <div class="col-md-9 ml-0">
                                                    <span class="col-md-4 ml-0 pl-0">Shipping Status : </span>
                                                        <span *ngIf="order.InProgress > 0"><span class="badge badge-warning">In Progress ({{order.InProgress}} Qty)</span>&nbsp;&nbsp;</span>
                                                        <span *ngIf="order.ReadyForShipment > 0"><span class="badge badge-primary">Ready for Shipment ({{order.ReadyForShipment}} Qty)</span>&nbsp;&nbsp;</span>
                                                        <span *ngIf="order.Shipped > 0"><span class="badge badge-success">Shipped ({{order.Shipped}} Qty)</span>&nbsp;&nbsp;</span>
                                                    <!-- <div class="row">
                                                        <div class="col-md-4">Shipping Status : </div>
                                                        <div class="col-md-3" *ngIf="order.InProgress > 0"><span class="badge badge-warning">In Progress: ({{order.InProgress}} Qty)</span></div>
                                                        <div class="col-md-6" *ngIf="order.ReadyForShipment == 0"><span class="badge badge-primary">Ready for Shipment: ({{order.ReadyForShipment}} Qty)</span></div>
                                                        <div class="col-md-3" *ngIf="order.Shipped == 0"><span class="badge badge-success">Shipped: ({{order.Shipped}} Qty)</span></div>
                                                    </div> -->
                                                </div>
                                            </div>
                                            <hr class="my-2" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-group mb-3 bg-light">
                                    <!--
                                    <li class="list-group-item d-flex justify-content-between lh-condensed">
                                        <div>
                                            <h5 class="my-0">Delivery Cost</h5>
                                        </div>
                                        <span>0</span>
                                    </li>-->
                                    <li class="list-group-item d-flex justify-content-between lh-condensed">
                                        <div>
                                            <h5 class="my-0">Vat/Tax</h5>
                                        </div>
                                        <span>{{orderList?.OrderInfo[0]?.CurrencySymbol}} 0</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between">
                                        <h5 class="my-0">Total Amount</h5>
                                        <strong>{{orderList?.OrderInfo[0]?.CurrencySymbol}}
                                            {{orderList?.OrderInfo[0]?.GrandTotal | number:'.2'}}</strong>
                                    </li>

                                    <li class="list-group-item d-flex justify-content-between lh-condensed">
                                        <div>
                                            <h5 class="my-0" *ngIf="orderList?.OrderInfo[0]?.CustomerBlanketPOId > 0">
                                                Blanket PO</h5>
                                            <h5 class="my-0" *ngIf="orderList?.OrderInfo[0]?.CustomerBlanketPOId == 0">
                                                Customer PO</h5>
                                        </div>
                                        <!-- <span>PO #: L-0001 - Current Balance: ₹ 335</span> -->
                                        <span>PO #: {{orderList?.OrderInfo[0]?.CustomerPONo}}</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top:-52px;" class="col-xl-12 text-right">
                        <div class="button-list btn-group-sm fl-right mb-10">
                            <button class="btn btn-primary waves-effect" routerLink="/admin/shop/order-history"><i
                                    class="fas fa-arrow-left"></i> Back</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid" *ngIf="!IsOrderHistoryView && loginType != 1">
    <div class="account-pages mt-5 mb-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 col-lg-6 col-xl-5">
                    <div class="card bg-pattern">

                        <div class="card-body p-4">

                            <div class="text-center">
                                <a routerLink="/">
                                    <span><img src="assets/projects/ah-group/full_logo.png" alt="" height="22"></span>
                                </a>
                            </div>

                            <div class="text-center mt-4">
                                <h1 class="text-error">401</h1>
                                <h3 class="mt-3 mb-2">Access Denied!</h3>
                                <p class="text-muted mb-3">You don't have permission to access this page.</p>

                                <a routerLink="/admin/dashboard/ah-dashboard" class="btn btn-success waves-effect waves-light">Back
                                    to Dashboard</a>
                            </div>

                        </div>
                        <!-- end card-body -->
                    </div>
                    <!-- end card -->

                </div>
                <!-- end col -->
            </div>
            <!-- end row -->
        </div>
        <!-- end container -->
    </div>
</div>